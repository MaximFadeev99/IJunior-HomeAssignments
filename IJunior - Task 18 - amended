using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Linq.Expressions;
using System.Net.Http.Headers;
using System.Runtime.CompilerServices;
using System.Security.Cryptography;
using System.Text;
using System.Threading.Tasks;

namespace CSTest1
{
    internal class Program
    {
        static void Main(string[] args)
        {
            string bracket1 = "(";
            string bracket2 = ")";
            string text;
            int bracket1Count = 0;
            int bracket2Count = 0;
            int depth = 0;
            string textLength;

            //Console.Write("Введите скобочное выражение:");
            //text = Console.ReadLine();
            
            text ="(()((()))())";
            textLength= text.Length;
            
            if (text.StartsWith(bracket1) == false || text.EndsWith(bracket2) == false)
            {
                Console.WriteLine();
                Console.WriteLine("Указанное скобочное выражение неверное!");
                goto End;
            }
            
             for (int i = 1; i <= text.Length; i++) 
             {
                if (text.Substring(i,i) == bracket2 && text.Substring(i+1,i+1) == bracket1) 
                {
                    Console.WriteLine();
                    Console.WriteLine("Указанное скобочное выражение неверное!");
                    goto End;
                }
                
                else if (text.Substring(i,i) == bracket1 && and text.Substring(i+1,i+1) == bracket1)
                {
                  bracket1Count++;
                  depth++;
                }
                
                else if (text.Substring(i,i) == bracket1 && text.Substring(i+1,i+1) != bracket1)
                {
                  bracket1Count++;  
                }
                
                else if (text.Substring(i,i) == bracket2) 
                {
                    bracket2Count++; 
                }
              }          
              
              Console.WriteLine();
              Console.WriteLine("Указанное скобочное выражение верно!")
              Console.WriteLine($"Его максимальная глубина составляет {depth}.")

            End:
        }
    }
}
